2024 and on:

2025-01-23 or before:

* wyatt sign tv contract extension
* alisa will sign off on the feedback question today, and after that, a/b test on the references? (I guess we did this.)
* system prompt text displayed in pod key or something. for chatbot account context (rendered obsolete and accomplished in other ways, I think)
* get rid of is_dev guarding url expansion in cicero chatbot, Eventually.
* (for chang:) (actually for andrew slade now:) Since you've been gone, it has become clear that we should get rid of achangtv/cicero and redeploy it from targeted-victory/cicero. This is because it's the more important environment of the two, so it would be nice if the "bus factor" on that were higher (more people in the org can control the org github than your company github).
* whitelist tango!!
* https://github.com/python/mypy/issues/12358 (Support mypy: ignore inline comments) https://github.com/python/mypy/pull/17875
* add disposition column to table & hook up the associated logic (and perform associated refactorings). It's live in dev right now.
* wholematch the linematch in the tedizer
* (Decided not to) If feeling ambitious, add the spend field and the TV funds field from the project table into the result table.
* (Decided not to; No interest from the team members who actually read the PII alerts) change pii logging to tell us what the pii was, exactly (Change the table to log the JSON of that object or an empty string, and document that using a column comment. Then, ensure this main item is completed because I think the logging code will just log the true false unless I change it)
* parallelize tedizer
* hard filter in similarity search (for tracking down outputs that were generated by cicero): if the user pod who gets it out is not the one who sent, then it can't be right. also, the sent date has to be after the generation date. (Need a mapping from pods to projects from Ted) (user thing was abandoned as too hard. date was already in there.
* In the tedizer, split by line, as an option (The project IDs are in there (each project is a resulting message, by the way) So a distinct count will produce the correct result later if needed.
* add disposition to corp chat
* Mandatory - Security Awareness Training - Annual [2024-2025] 
* push to prod
* delete jtorresjtorres@targetedvictory.com from the table (added arbitrary sql to the pod key menu to do this)
* whitelist changes 2024-12-10
* Snowplow (in email) review
* stop getting notifs every time political emails scraping runs
* get rid of alex chang github and streamlit accounts
* horrible email archive scraping (politcalemails.org)
* update the system prompt addition to the following, now that the House has been called 
* deal with annoying defunct token detection
* redeploy github.com/w-tv/cicero-dev, which disappeared for some reason
* new system prompt context
* "move" cicero.streamlit.app to deploy from cicero-tv account
* 1password cicero
* Fix mysterious 2024-11-07 downage/hang (turns out it was a cicero warehouse ownership/permissions issue)
* enact: can we change the the feedback question to the following? "Like this output? Let us know to continue chatting." (this verbiage to replace the "Are you satisfied with this output?" verbiage) & push this
* move the Vacuum Cicero code into the cicero-backend git repo & confirm it works
* Alisa notes that due to the passage of time, the models have improved (free progress achieved)
* see if possible: ideally, be able to publish to google docs. inegration/ publish to gogole docs in a formatted table (video creative breif writing: another use case: graphic design team, tv employs them, animation and videography team as part of that. they make briefs, requests for internal client teams notoriously fraught (disagreement, miscomms, misexpections... all sorts of things))
* confirm that the vacuum workflow is working & mention this
* stop vacuum workflow from deleting old headlines
* remove wyatt from daily cicero update emails
* shift pii internally to use object. This allows cicero to tell the user what type of PII it believes was detected.
* make pii regexes detect the right things (digits)
* Upgrade deps so we don't get weird errors and warnings when the code goes over them such as in typechecking ‚Äî torch
* Upgrade deps so we don't get weird errors and warnings when the code goes over them such as in typechecking ‚Äî sentence-tranformer
* Documented dependency on databricks sdk that has the invalid escape sequences
* Further rectify the names. Eg ‚ÄúDc statehood‚Äù to ‚ÄúDC statehood‚Äù. AKA Ted changes 6c + some of my own nits. 
* delete cicero-backend working branches, leaving only main.
* It looks like we've only been saving headlines so far. I can alter that code to also start saving contents.
* rename cicero-backend main to master. make databricks use master.
*  (non-random; to start out with, maybe just use a per-message call to https://docs.databricks.com/en/sql/language-manual/functions/levenshtein.html ?) context for chat with cicero
* Check with the team to see if we're still getting these errors: While-try around timeout?  FoundationModelAPIException: reason: API request timed out after 60 seconds (pretty sure this is definitely still happening, and the while-try we have already for this is fine).
* don't delete the headlines
* move the vacuum code
* instead of random send text, in cwc (not corp), get them by similarity, either SQL like I intend to do for prompter (but specific to the client, or vector embedding search on the frontend). (probably derivative of faster prompting) (actually we may start just by using regexes)(did the regexes thing)

2024-09-19 and earlier ("the Chang era"):

* (alex chang:) leave the company
* Any further onboarding and knowledge sharing for databricks. possibly record these, for the future
* chat with cicero, reset didn't fully clear out the entries. "on the chat version when i hit reset it doesn't clear everything out." Has replicated, don't know why it's happening. probably just some logic error.
* Chat with Cicero (regular, not corporate), Account dropdown, RAG, system prompt don't copy just use as inspiration. (chang did half of this). To complete, do the following: get random texts from query (select Rand, see https://stackoverflow.com/questions/580639/how-to-randomly-select-rows-in-sql). get the texts into the system prompt/perhaps utilize an initial prompt? talk with ted for more guidance if needed (impl was different than expect but it's done now)
* (wyatt:) Use git features (optional method) to investigate, integrate, and delete tr_refactor.py
* on the free input search line thing, let the user put in multiple different lines so they can be compared to each other.
* ted: get it off of regex and have it actually search the content (using/instead of? keywords) . But that's real nlp done by real humans. (chang: yeah i think ted misspoke a bit here) (ok but did we actually do what he wanted? I think his point was he wanted an include (or three) not an exclude... I guess that's also the previous (directly above) list item. So, that's that.)
* For line-graphs, add topic legend (ideally when more than one topic is selected) (the "non-ideal" version was implemented)
* For line-graphs, make the color of the line graph be the same color as the dots
* For Line-Graphs, maybe have it be a line with some shape to indicate whether that day has value? right now its ambiguous. (Maybe make it a scatter plot I guess) (fixed by "Add points to by-day line charts")
* For line-graphs, change X-axis to be just days, and not include the time of day at all (this was already true when I, wyatt, checked. I mean, it's a property of the date type so yeah I guess it always worked idk what he's talking about)
* (chang:) delete the slack list now that I've put it in the old action items folder as a csv. Or don't; whatever. Uhh just let me know either way.
* (chang:) in ref_tags_new a lot of the colors are grey now :/ (now fixed)
* (chang:) in ref_tags_new the tag names now erroneously have underscores instead of spaces, again?
* (chang:) in ref_tags_new I'm thinking you change tag_column_name to tag_name. Unless it's critical to have column in there for reasons I don't understand (I already know it's a column :shrug:)
* (chang:) Chang wanted to drop some data from the tables (using databricks sql query dashboard, or spark in a notebook, I guess). "some like test rows in the chatbot activity log and some rows with missing data in the prompter activity log that i want to drop (from like when we first made the table)" "eh whatever" - chang
* pillage the slack task board and put its tasks here and in the completed task text file.
* Download the Slack "list" Cicero Tracker (kanban/whatever type board thing) as CSV and then delete it in slack. (Also: wyatt couldn't actually delete it, due to not having perms to do so)
* deal with pins that are actually action items
* also i want you to change the emoji for the pod key page to the :hot_pepper: emoji (feature dropped as Chang, the requester, is leaving) (nooooooo)
* oh yeah and then another tab that will let us: add account(s) and rollup name(s); add a bio (corresponding to a rollup name); add/remove client from the account list dropdown ‚Äî and maybe some other stuff if you can think of anything (does this actually have everything we need?) (this is The Meddler and it's now just built out as needed)
* could we just round this to 4 digits. shoot 2 digits (I mean we could but I just ignore the subsequent digits. No more feature requests from you, traitor boy! Lol) (nooooo. you'll have to pry Cicero from my cold, quitter hands GIT RESET HARD GIT RESET HARD) (feature dropped as Chang, the requester, is leaving)
* Directly change the "Connection failed with status 0." error message in streamlit to say "the session timed out and your state was lost" or whatever. (feature dropped as Chang, the requester, is leaving)
* Different way of doing popups? That can support multiple popups? (feature dropped as we only need one popup now)
* make the dots in topic reporting not change color from run to run (use correct colors?) (maybe this actually is already fixed?)
* (waiting on Chang's changes elsewhere:) (ok, now blue-greening in lockstep with Wyatt and Chang) edit topic_reporting.py to conform with new topics table (unpivoted! also, new name: topic data prod instead of hook data prod) // harmonize the topic names, across everything, by getting rid of the fricking _hook thing. And also use spaces instead of underscores. // change all the topic names, because cicero internal names are behind, and also we can modify everything so that they no longer (end in _hook and use underscores and aren‚Äôt capitalized) // yeah I think from here on out we just get rid of the pivoted topic table, but keep the code in there because in the future if we need it it'll be right there. Here's the notebook for reference https://dbc-ca8d208b-aaa9.cloud.databricks.com/?o=8188181812650195#notebook/682953011965817
* the topic reporting migration part 2
* disable zooming on the TR charts (w: seems like a good action item for chang to take in spare time?) (a: will keep trying) (w: also, like... why?)
* (for chang:) then chang needs to write some kind of reporting thingy for pii concern column
* (for chang:) then chang needs to write some kind of reporting thingy for the winred.com concern column
* (for chang:) then chang needs to write some kind of reporting thingy for the fec.gov concern column
* then deactivate the forbidden url toasts
* (for chang:) oh, also you can delete the activity_log _old_copy things. If you're confident you won't need them later (I (Wyatt) am). (Wyatt then got perms to do this and so did.)
* (for chang:) OK, now that we've made that recent change, I guess you should delete models.lovelytics.ref_account_rollup (and if anything was using that, have it use cicero.ref_tables.ref_account_rollup
* the topic reporting migration part 1: (needs chang input?) unify topics regex dict and topics big. Possbly adding an "enabled" column so we can disable topics we no-longer use without deleting them.
* (for chang:)  in the meddler tab I have code that reads in the current topics_big and the ref_tags table, maybe you can look over that to make sure the change-over to the latter is all good. (maybe this isn't something to worry about idk) (this was actually done a long time ago).
* (for wyatt:) the new  the "Stagwell Global - New Security Awareness Training Enrollment! - Targeted Victory" 
* add PII detection to Edit with Cicero (it was already in there, in fact!)
* winred.com concern column in activity log (possibly just a dumb string contains)
* fec.gov concern column in activity log (possibly just a dumb string contains)
* pii concern column in activity log
* fix fileupload, at least a bit
* can we set up a separate pop up and flag if https://www.fec.gov/ or a similar link is included in the prompt? (do we still need the flag part? and what is a flag in this context?) (a: nvm about the flag)
* change chat funcs to accept file_upload contents
* make the content of the url show up not all the way at the top of the page
* put the URL forbidden checker before the pii detector, but if not feasible/too hard don't do it, i (Chang) have already rejigged the regex
* Activity Log: add a column that notifies us if a user hits the readlink time limit (ehhh maybe we don't need this) (ehhh maybe we do)
* do the double feedback for CwCorpo, and add on another activity log column to record it
* Account selection not working (could not reproduce. seems to work fine for me. hoping it was just a fluke on chang's end, circle back to me on that.)
* make search bar case-insensitive, and also not regex (chang did this)
* user_pod table row with a page access array, baby!
* like an onclick thing for the dots in the scatterplot, want to be able to bring up a popup of like at least the project names that make up the dot. i'd like for users to at least be able to copy from it. reach goal, is jamming an st.dataframe or st.table into the popup with a bunch of useful columns in there so they can just download it.  i guess we could just put another table below the scatterplot (chang did this)
* rm typesafe_selectbox once the new type changes on selectbox in streamlit come through.
* Deprecated in `altair=5.0.0`. Use add_params instead. How did chang get these deprecation warnings to show? (chang changed the code here to fix these and use the new version)
* FEC.gov / winred.com flag, "The website you have linked is not currently supported", no option for the user to send the prompt, it must block this prompt, maybe just to be safe we put something right in one of the url reader funcs
* readlink: limit of 1 url per prompt, don't want to read more than 1 website at a time, maybe have a popup that says "1 website at a time please" something like that
* Remove the topic legend (but keep the size legend) (chang did this)
* ensure the project count legend works in dark mode (right now its just black circles on a slightly less dark background) as well as light mode (if it can't be done we can just drop the legend and the size thing) (chang did this)
* Ensure that the account dropdown in Topic Reporting matches the account list in prompter (they were the same variable so it worked)
* fix the list index out of range error, because it keeps happening

2024-08-16 and earlier:

* st feedback bug report or fix.
* ((urgent)) fix feedback on CwC
* ((medium)) In TR, currently all the dots start off washed out, but I want them to be nice and vibrant, and when a user clicks on one, the rest get washed out and the one they clicked on stays nice and vibrant.
* Share details on streamlit on our hackiest workflows - current and also live character count (retired as the time has passed)

2024-08-14 and earlier:

* Use the new [T] syntax for the typevars.
* the drill down table is not accessible to normal users when viewing the TR scatterplot for everyone, only when they are viewing a singular account. BUT, the table should still work for dev mode users for everyone.
* refactor code to get rid of Any in signatures where we can and use object (the python top type) or [T] style generics instead.
* refactor everything related to use is_dev, as that would technically be more DRY-y and more impervious to future refactors.
* refactor: use dev_str where appropriate"
* spare time: fix streamlit number input number type annotations: https://github.com/streamlit/streamlit/issues/8717#issuecomment-2205441895 (fixed by another guy)
* use https://github.com/Poogles/piiregex (see issue in board)  (I guess we decided not to use this. Or, possibly, we took their regexes.)
* fix this bug: on first click, the drill down does not display. Possibly a streamlit control flow mistake?
* link time limit alerting the user maybe I have to do this

2024-08-02 and earlier:
* actually talking with Alisa now, we are going to change the default model for both prompter and CwC to 405B week of 5.
* Paste in link corp chat "hey write three tweets about this"
* w: Copy the alex-wyatt Canvas somewhere to clear out the old stuff so that it doesn't take so long to render changes? (a: made a list for us, check it out) (w: ok maybe new stuff will just go into the list) ((they were discussing the asana/kanban style board ("list") in Slack,  https://targetedvictory.slack.com/lists/T02R7BKJF/F07E26N1C2V ))
* (chang:) i also want to move the user pods table to the ref_tables schema. this will require some changes to the new pod key page but i think i can figure it out ((it'll just be changing the name probably))
* github branch protection (or possibly hook?) that prevents me from pushing to tv prod during business hours (because I sometimes forget this rule) (ehhhh it's fine, nvm)
* add the sender name text box in dev mode
* hook up the sender name text box in dev mode
* move internal_name_to_external_name (to... a databricks table? I guess? What did I mean by this?)
* submit invoice for may
* etc (see git history for many action items that bypassed this list)
* submit time of
* Ted says: wanted to flag that it seems like the hook reporting is only showing data when you select the last 30 days or 180 days (this is probably because the table migration is not complete yet) (this was the feature: restore all_hook functionality... MAYBE)
* prompter and chat ultimately supposed to have separate history stacks
* Idea: edit initial prompt to be like "do your best to combine all the topics and tones together" to just avoid the whole like splitting out the tones into seperate texts
* Handle request limit exceeded in chatbot
* Also, I guess maybe we should filter out ones under a minimum number of characters, huh?
* have the activity log reflect whether activity is via the prompter chatbot or chatwithcicero chat
* Shoot the "only one instance" idea into smc (chang did this)
* remove annoying headroom
* make tables scrollable (impossible; abandoned)
* loosen the chat tab
* ask for voting
* make the activity looker (wyatt‚Äôs idea)
* ‚Äúlooks like its working in prod for last 7 days just not yesterday‚Äú
* default prompt for the Rag Man in his own tab which needs to be renamed: Here is a conservative fundraising text or email: [" + output + "] Analyze the quality of the text or email based off of these five fundraising elements: the Hook, Urgency, Agency, Stakes, and the Call to Action (CTA). Do not assign scores to the elements. It's possible one or more of these elements is missing from the text provided. If so, please point that out. Then, rewrite the text based off of your analysis. Keep the overall message the same, but feel free to change the sentence structure or tone.
* display at first blush the rag-only tab.
* add system_prompt to activity log
* switch from tabs back to pages for performance reasons. (probably can‚Äôt do this reasonably) (but there is a new streamlit pages features so maybe we can..)
* add frontend url field to activity log
* "chatbot or prompter" field in activity log
* merge chatbot activity log and activity log into same table (incl retroactively)
* add several pods and users
* REMOVE NEW TYPEVAR SYNTAX
* Mystery big talk errors. (after using the real dude for a while, an error occurs) (no-longer a mystery)
* push to prod
* remove certain people‚Äôs access from cicero-dev
* What times for the later sync meetings?
* Rag man jailbreak TED mentioned
* Some datetimes don‚Äôt end up as datetimes properly in excel. Fix this. (turn to actual date? Maybe remove decimal places from seconds?)
*  change the real dude model to dbrx-instruct, also alphabetize the model names, and use shorter names for the real dude models
* "the page doesn‚Äôt exist" mystery error: talk to sean, john, IT? (nah it‚Äôs probably just deploys) (Update: it's not deploys) (It's probably just OOM though. Get Alisa to get Sean to up the memory limit.)
* Move the pod key standalone to dev mode in cicero proper.
* mysterious auto-reboot when app is idle (load-balancer?) (this is probably just the timeout in the yaml)
* ted error (probably just need to docker-copy the streamlit file)
* topic tagging task fail too long
* read sean's documentation on long request times
* keep looking in to errors.
* make the prompter faster?
* docker copy the hidden files
* move bios into client_list (nevermind. not needed. whatever.)
* tag the last commit that touches gpt-2
* Add Sswanson into users, pod jeff
* Add Derek Schmidt KS-02 to the internal-external name mapper (chang has to send me this)
* Wes‚Äôs code uses hard-coded versions of data that already out of sync with Cicero?! - "Create Reference Tables" https://dbc-ca8d208b-aaa9.cloud.databricks.com/?o=8188181812650195#notebook/2936451416546423 (ok this is resolved but there are secondary changes this means we have to make)
* Consolidate lovelytics powers into cicero? (eh, nah)
* remove the standalone because model perms are no longer real. (actually the standalone is for pods so we still need it)
* change the doc pool size to uh 30, and then can you test and see how long it takes to prompt and if it takes like too long, like over 20 seconds, drop the doc pool size to uh 20 (or optimize) ((Chang did this))
* expose this list of variables in CONSUL mode (my new name for dev mode) ((:exploding_head:)): from sample_dissimilar_texts, max_similarity; score_threshold, doc_pool_size, num_examples
* kill all pandas (replace with st.dataframe?) (update: nah)
* remove some now-useless devmode sidebar stuff.
* upgrade everything to python 3.12
* Creative pod, pull their access.
* move arvind akrishnan to the pod "arvind"
* ted cosmetic changes to cicero.
* for model selection for real dude, make the three different models available like how we do in the form
* for the model prompt for cicero real dude, can you specify that that is the system prompt?
* cicero output matches from ted (this is well gone by now; didn‚Äôt do it)
* (prelude to "im feeling lucky"): "I‚Äôm feeling unlucky" button.
* thumbs-up/down outputs (or maybe star) of the real dude to weight those results more? (society has progressed beyond the need for human real-dude grading) (society actually still needs this) (this has been tabled) (also thumbs-up/down / star the initial outputs from the model. Maybe edit the system prompt based on this.)
* figure out how to report to slackitself the fact that crossed-out hyperlinks should still be link color but greyed instead of completely grey. (they figured this out without me)
* (for chang:) can you delete models.lovelytics.ref_bios ? I've confirmed it's currently identical to cicero.default.ref_bios, which everyone should be using from now on instead.
* Retroactively convert all of the timestamps in activity log to true timestamps (also did this for activity log chatbot, altho it‚Äôs unclear if that did anything).
* Time-limited activity log updating
* thursday, disable keep-alive code (actually, Alisa said to keep this around, at least for now) (this later became irrelevant.)
* "cicero-stage"? "cicero-unstable"? / "power mode" instead of "developer mode"? (eh, nah)
* pull request the syntax warnings
* pull request the syntax warnings 2
* fix (or rather ignore) type errors
* correct typos: ann wager, greg abbott
* insert some new people in the dropdown and rollup from an excel
* slider for doc pool size and number of examples (5 to 100)
* log wrong output number error
* add profiler
* clean up the activity log of blank outputs, non-text message outputs (just let time do this dirty work üòè) ((no))
* Something about the real dude:tm: implementations? Presumably: have an option (sidebar) to change the model for The Real Dude (dev or regular...?)
* some refactors
* show ted how to add people to pods and streamlit prod
* change real dude default model back to llama
* change new pod key to be more self-explanatory, and also move the data listings so that the user doesn't need to manually refresh the page to see new changes
* I figured out how to grey-out the button during submits. Let's gooooo
* put brian in touch with wyatt (chang)
* Later, I will break your history, to restore linear time. But that's a story for another day.
*  tell Wes to work on the actual codebase...  if he says yes
*  also it seems that headlines and bio are no longer making it into the prompt? (specifically the "final ask", the ‚Äòquestion‚Äô)
*  Oh yeah we also want to change the medium char count to 350 (in the part where its like medium: a text that's about n characters long or something like that) (chang did this)
* Wes new changes (anti-500, & etc)
* Ted tells me the reference long texts are not getting randomized (he was mistaken)
* and then we caught another one, instead of "here are..." ted got "Message 1/2/3..." before each message
* Sync with Brian, give him ideas for his streamlit app for prospecting
* alisa also wants to remove the quotes around any messages, should they appear
* And then can you push over the all changes to the tv-cicero repo
* fix secrets in Cicero GCP Prod
* Logo: Replace with colorful version (Chang)
* Favicon: Replace with black-white columns image (Chang)
* Chat Feature Icon: Replace with columns on an angle (Chang)
* Okta: Replace with colorful logo: Title with ‚ÄúAI Copywriting‚Äù (chang)
* Tabs: Leave tabs bar off of prod. Only rollout ‚ÄúPrompter‚Äù (chang)
* Login email: Only show ‚ÄúYou are logged in as abrady@targetedvictory.com. You have prompted 1 time(s) today.‚Äù Remind me what our current daily limit is for CS / OG users? 100? (chang)
* ‚ÄúNews Headlines‚Äù / ‚ÄúCopywriting Model‚Äù headings (chang)
* Possible to update to Helvetica Neue font? Lmk if not available
* News Headlines. Did we intentionally drop the literal search (vs. semantic search) checkbox? (yes) (chang)
* Copywriting Model (what is this??) (obsolete)
    * Model dropdown to not be displayed in Prod; displayed in Dev only
    * Structure Ask Type & Length drop downs to also show ‚ÄúChoose an option‚Äù when blank
    * Should we add ‚ÄúWitch Hunt‚Äù to the dropdown since it covers Trump arrests / trials more generally and not as narrowly as ‚ÄúTrump Arrest‚Äù or is it all rolled up?
    * Length dropdown should include approx. character counts as Ted outlined
        * ‚ÄúShort (<160 characters)‚Äù
        * ‚ÄúMedium (161-399 characters)‚Äù
        * ‚ÄúLong (400+ characters)‚Äù
    * Show # of outputs as dropdown
        * Rename ‚Äú# Outputs‚Äù
        * Options 1, 3, 5, 10
        * Ideally dropdown in shorter width than the other selections
    * Possible to show Output Variance slider as less wide than the rest of the page? Maybe with a max absolute width?
    * Make accent color match hex code #FD4844 (accent color currently used for highlighting dropdowns, for dropdown selections) (hath this been done?) (eh probably)
    * Make submit button hex code #FD4844
    * Change chat function image to lightning bolt
    * Change chat function text to ‚ÄúEdit with Cicero‚Äù instead of ‚ÄúSend down to Cicero‚Äù
    * Make "NEWS HEADLINES" font size match the "History of Replies" size
* make the  chatbot conversation disappear after a (main-)prompts
* simplify secrets situation
* Wes has a workaround for the vector search bug
* also we need to get the real dude out of dev mode
* basically, what we're gonna do is move the headline, and probably the bio portion too, to the final ask, and get it out of the system prompt
* also I will need your help with the length dropdown thingy and the colors
* later, change dockerfile etc to use run.bat to see if we can get the deploys faster? (failed attempt)
* Big UI change https://targetedvictory.slack.com/archives/D067U25855X/p1716320846434699 (chang doing most of this)
* put full prompt in expander and in dev mode
* move weights into sidebar
* figure out weirdness with ValueError: tuple.index(x): x not in tuple
* fix the write to activity log function (right now it is still writing all of the unvalidated outputs) i think we just need to change this to outputs_validated? responsegiven=json.dumps(outputs) (yes, thank you)
* OUTPUT VALIDATION: validate the number of texts returned matches the number of texts requested. (what do we do if this is wrong? info box i guess)
* somehow get the users email (this makes me nervous) ((that‚Äôs because we‚Äôre gonna kill the user))
* ah right yes for modelparams we'll just do the temperature and max_tokens
* and yeah we'll go with just llama 3 for now. although for dev mode it would be nice if the dev user could change between llama 3 70B, Mixtral 8x7B, and DBRX.
* and also the dev mode user should be able to change the weights (the topic weight, tone weight, etc)
* Probably will have to do something about auth sometime soon.
* if the user selects Long length, the output should be capped at 1 (include message to user explaining that its not broken, its just automatically set)
* keep character counts just below the outputs
* let end user see and edit number of outputs asked for
* dev-mode out the side panel because I know you're using that (what does this mean?) (never mind this)
* put faiss or other vector search back in
* Heroku Migration (CANCELED)
* Give Alex demo on how to run streamlit locally
* Google sign-in
* google sign-in extend life with cookies (needs additional troubleshooting?)
* Get rid of google sign in.
* alisa add the new pods
* alisa back-extend pods
* hook reporting page
* etc
* (!) Why is our endpoint always getting pinged? REMOVE THE DUMMY
* (!) remove colors and replace with real image in history
* Changes here in slack
* Changes in the ted 3-slack
* Perform ‚ÄúBetty Boop‚Äù maneuver of going and improving other projects‚Äô type signatures.
* (don‚Äôt bother) Different name for developer mode?
* (!) get rid of the symlink & redeploy on dev and prod
* add short/medium/long option to dev (does not need to be done 3/19 for zip purposes)
* Keep cicero alive during business hours?
* Put dashboard repo contents into cicero repo.
* Make sure s-m-l names work out.
* Try doing the whole project with RAG/previous outputs as simply context (kind of done I suppose, maybe, ish, needs Chang‚Äôs input on whether to continue experiment)
* CHANG delete main.default.activity_log and main.default.headline_log
* Do green checkmarks in dev timeline sheet for done stuff (requires google sign-in)
* Prod.Business.project_results oh wait no nevermind can‚Äôt use that, (so I didn‚Äôt)
* Look over the‚Äî oh you‚Äôre not in analytics (so I didn‚Äôt)
* Look in RAG stuff notebook maybe do chang‚Äôs to-dos he left around if I know what he was doing (couldn‚Äôt decipher thesemypy)
* (delayed or cancelled) Popover with all the topics and their definitions near the cicero promprter topic picker I guess
* replace scratchpad with chatsession feature from https://dbc-ca8d208b-aaa9.cloud.databricks.com/?o=8188181812650195#notebook/1620539154772835
* Add American Voice and also DMS: American Voice to American Voice mapping.
* Add model name to activity log
* The garbage special instructions (jokerized)
* Text clustering/similarity yet again - Maybe we just make a Cicero tab that does a text similarity operation like Alisa seems to want.
* Chat bot output always go above chat input box.
* Fix databricks token lifetime issue for local, dev, and prod.
* Maybe try live wordcount in scratchpad with raw html insertion?
* Bug report about chat_input not sticking when not in main (actually this results from a misunderstanding about how tabs work)
* activity log for chatbot
* new form of email whitelist in model permissions + pod + array of model permissions (might be empty) (actually we got rid of model perms so this is just user_pods now)
* fix how rag man eats the prompt sometimes (streamlit)
* Give ted the "RAG only" test outputs.
* Possibly talk to Sean about cookies.
* Fix the most obvious one or two errors with components.streamlit.app
* Document TableEnsurance idea.
* Add Jeff.
* Fix the streamlit redirect uri stuff (also file bug about it https://github.com/streamlit/streamlit/issues/8600) (also, push all these changes)
* Specify a different source for this cookies dep (my own git repo with the fixes)
*  cicero head, but with tv triangle eyes
* Fix the cloud build that needing git broke. (push pus this everywhere)
* "Enable RAG implementation in Cicero frontend"
* google app engine identity function (not available lol) (nor were other things I tried)
* Help chang get run.bat to work for him (I guess it works now)
* fix run.bat situation on my own machine (lmao)
* get rid of some of these dang repos and branches
* remove faiss from project
* move the "flagging output" banner down to be by the outputs
* use different color of red for non-error errors? (decided not to)
* fpm round to nearest cent in the graph and tooltip
*  we also need an FPM and a ROAS line graph above the TV Funds graph
* localhost-related issue
* Maybe some day actually have the right file modes for everything in git.
* fix cicero-head symlink
*  get a past 6 months option in the time period buttons for topic reporting
* fix git nonsense
* Link to Wikipedia page about cryptographic nonce in comment by nonce. (Unnecessary)
* Are we getting rid of model select / its permissions immediately and for ever?
* No radio buttons for Cicero the real guy (chang did this)
* Keep five outputs per input for new Cicero (rag impl)
* swap cicero heads
* I want to like hide the very first uh "query" to the chatbot
* Improve SQL queries.
* nix the model name box in the UI
* have some sort of, slider or input thingy, to choose the desired number of texts in the output
* possibly: char count (short/medium/long?), tone, temp (in dev mode), number of outputs, maybe some other stuff?, submit button
*  change the model outputs table to be regular text instead of a table
* text length weight does well with 4
* Dev mode: See the entire prompt
* User can see and edit number of outputs they want. minimum 1 maximum 10.
* Alisa new ui changes (in dev channel)
